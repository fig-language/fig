---
source: crates/nyx-lexer/tests/integration_tests.rs
expression: tokens
---
- Newline
- Using
- Core
- Colon
- Colon
- Ident: memory
- Newline
- Enum
- Ident: RegexOpcode
- Newline
- Indent
- Ident: CHAR
- Newline
- Ident: ANY
- Newline
- Ident: SPLIT
- Newline
- Ident: JUMP
- Newline
- Ident: MATCH
- Newline
- Ident: SAVE
- Newline
- Ident: RANGE
- Newline
- Ident: CLASS
- Newline
- Dedent
- Struct
- Ident: RegexInstruction
- Newline
- Indent
- Ident: opcode
- Colon
- Ident: RegexOpcode
- Newline
- Ident: operand1
- Colon
- I32
- Newline
- Ident: operand2
- Colon
- I32
- Newline
- Ident: char
- Colon
- U8
- Newline
- Dedent
- Export
- Struct
- Ident: Regex
- Newline
- Indent
- Ident: instructions
- Colon
- LBracket
- Ident: RegexInstruction
- RBracket
- Newline
- Ident: capture_groups
- Colon
- USize
- Newline
- Dedent
- Union
- Ident: CompileError
- Newline
- Indent
- Ident: unexpected_char
- Colon
- U8
- Newline
- Ident: unmatched_paren
- Colon
- USize
- Newline
- Ident: invalid_range
- Colon
- LParen
- U8
- Comma
- U8
- RParen
- Newline
- Ident: empty_pattern
- Colon
- OkLiteral
- Newline
- Dedent
- Union
- Ident: CompileResult
- LBracket
- Ident: T
- RBracket
- Newline
- Indent
- OkLiteral
- Colon
- Ident: T
- Newline
- Ident: err
- Colon
- Ident: CompileError
- Newline
- Dedent
- Func
- Bang
- Ident: Regex
- Colon
- Colon
- Ident: compile
- LParen
- Ident: pattern
- Colon
- LBracket
- U8
- RBracket
- RParen
- Arrow
- Ident: CompileResult
- LBracket
- Ident: Regex
- RBracket
- Newline
- Indent
- Mut
- Ident: compiler
- Eq
- Ident: RegexCompiler
- Colon
- Colon
- Ident: new
- LParen
- Ident: pattern
- RParen
- Newline
- Return
- Ident: compiler
- Dot
- Ident: compile
- LParen
- RParen
- Newline
- Dedent
- Func
- Bang
- Ident: Regex
- Colon
- Colon
- Ident: is_match
- LParen
- Star
- SelfLower
- Comma
- Ident: text
- Colon
- LBracket
- U8
- RBracket
- RParen
- Arrow
- Bool
- Newline
- Indent
- Mut
- Ident: vm
- Eq
- Ident: RegexVM
- Colon
- Colon
- Ident: new
- LParen
- And
- SelfLower
- Dot
- Ident: instructions
- LBracket
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- RBracket
- Comma
- SelfLower
- Dot
- Ident: instructions
- Dot
- Ident: len
- RParen
- Newline
- Return
- Ident: vm
- Dot
- Ident: execute
- LParen
- Ident: text
- RParen
- Newline
- Dedent
- Func
- Bang
- Ident: Regex
- Colon
- Colon
- Ident: find
- LParen
- Star
- SelfLower
- Comma
- Ident: text
- Colon
- LBracket
- U8
- RBracket
- RParen
- Arrow
- Question
- Ident: RegexMatch
- Newline
- Indent
- For
- Ident: start
- In
- Ident: range
- LParen
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- Ident: text
- Dot
- Ident: len
- RParen
- Newline
- Indent
- Let
- Ident: slice
- Eq
- Ident: slice_from
- LParen
- Ident: text
- Comma
- Ident: start
- RParen
- Newline
- Newline
- If
- SelfLower
- Dot
- Ident: is_match
- LParen
- Ident: slice
- RParen
- Newline
- Indent
- Mut
- Ident: end
- Eq
- Ident: start
- Plus
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- Newline
- For
- Ident: len
- In
- Ident: range
- LParen
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- Comma
- Ident: text
- Dot
- Ident: len
- Minus
- Ident: start
- Plus
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- RParen
- Newline
- Indent
- Let
- Ident: test_slice
- Eq
- Ident: slice_range
- LParen
- Ident: text
- Comma
- Ident: start
- Comma
- Ident: start
- Plus
- Ident: len
- RParen
- Newline
- If
- Bang
- SelfLower
- Dot
- Ident: is_match
- LParen
- Ident: test_slice
- RParen
- Newline
- Indent
- Ident: end
- Eq
- Ident: start
- Plus
- Ident: len
- Minus
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- Newline
- Break
- Newline
- Newline
- Dedent
- Dedent
- Return
- Ident: RegexMatch
- LParen
- Newline
- Indent
- Ident: start
- Colon
- Ident: start
- Comma
- Newline
- Ident: end
- Colon
- Ident: end
- Comma
- Newline
- Ident: text
- Colon
- Ident: slice_range
- LParen
- Ident: text
- Comma
- Ident: start
- Comma
- Ident: end
- RParen
- Newline
- Dedent
- RParen
- Newline
- Newline
- Dedent
- Dedent
- Return
- "Null"
- Newline
- Dedent
- Func
- Bang
- Ident: Regex
- Colon
- Colon
- Ident: find_all
- LParen
- Star
- SelfLower
- Comma
- Ident: text
- Colon
- LBracket
- U8
- RBracket
- RParen
- Arrow
- LBracket
- Ident: RegexMatch
- RBracket
- Newline
- Indent
- Mut
- Ident: matches
- Colon
- LBracket
- Ident: RegexMatch
- RBracket
- Eq
- LBracket
- RBracket
- Newline
- Mut
- Ident: pos
- Colon
- USize
- Eq
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Newline
- Newline
- For
- Ident: i
- In
- Ident: range
- LParen
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- Ident: text
- Dot
- Ident: len
- RParen
- Newline
- Indent
- If
- Ident: pos
- Ge
- Ident: text
- Dot
- Ident: len
- Newline
- Indent
- Break
- Newline
- Newline
- Dedent
- Let
- Ident: slice
- Eq
- Ident: slice_from
- LParen
- Ident: text
- Comma
- Ident: pos
- RParen
- Newline
- Let
- Match
- Eq
- SelfLower
- Dot
- Ident: find
- LParen
- Ident: slice
- RParen
- Newline
- Newline
- If
- Match
- Ne
- "Null"
- Newline
- Indent
- Let
- Ident: adjusted
- Eq
- Ident: RegexMatch
- LParen
- Newline
- Indent
- Ident: start
- Colon
- Ident: pos
- Plus
- Match
- Dot
- Ident: start
- Comma
- Newline
- Ident: end
- Colon
- Ident: pos
- Plus
- Match
- Dot
- Ident: end
- Comma
- Newline
- Ident: text
- Colon
- Match
- Dot
- Ident: text
- Newline
- Dedent
- RParen
- Newline
- Ident: matches
- Dot
- Ident: push
- LParen
- Ident: adjusted
- RParen
- Newline
- Ident: pos
- Eq
- Ident: pos
- Plus
- Match
- Dot
- Ident: end
- Newline
- Dedent
- Else
- Newline
- Indent
- Ident: pos
- Eq
- Ident: pos
- Plus
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- Newline
- Newline
- Dedent
- Dedent
- Return
- Ident: matches
- Newline
- Dedent
- Struct
- Ident: RegexMatch
- Newline
- Indent
- Ident: start
- Colon
- USize
- Newline
- Ident: end
- Colon
- USize
- Newline
- Ident: text
- Colon
- LBracket
- U8
- RBracket
- Newline
- Newline
- Dedent
- Struct
- Ident: RegexCompiler
- Newline
- Indent
- Ident: pattern
- Colon
- LBracket
- U8
- RBracket
- Newline
- Ident: position
- Colon
- USize
- Newline
- Ident: instructions
- Colon
- LBracket
- Ident: RegexInstruction
- RBracket
- Newline
- Ident: capture_count
- Colon
- USize
- Newline
- Dedent
- Func
- Bang
- Ident: RegexCompiler
- Colon
- Colon
- Ident: new
- LParen
- Ident: pattern
- Colon
- LBracket
- U8
- RBracket
- RParen
- Arrow
- Ident: RegexCompiler
- Newline
- Indent
- Return
- Ident: RegexCompiler
- LParen
- Newline
- Indent
- Ident: pattern
- Colon
- Ident: pattern
- Comma
- Newline
- Ident: position
- Colon
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- Newline
- Ident: instructions
- Colon
- LBracket
- RBracket
- Comma
- Newline
- Ident: capture_count
- Colon
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Newline
- Dedent
- RParen
- Newline
- Dedent
- Func
- Bang
- Ident: RegexCompiler
- Colon
- Colon
- Ident: compile
- LParen
- Star
- Mut
- SelfLower
- RParen
- Arrow
- Ident: CompileResult
- LBracket
- Ident: Regex
- RBracket
- Newline
- Indent
- SelfLower
- Dot
- Ident: compile_expr
- LParen
- RParen
- Newline
- Newline
- SelfLower
- Dot
- Ident: emit
- LParen
- Ident: RegexOpcode
- Colon
- Colon
- Ident: MATCH
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- RParen
- Newline
- Newline
- Let
- Ident: regex
- Eq
- Ident: Regex
- LParen
- Newline
- Indent
- Ident: instructions
- Colon
- SelfLower
- Dot
- Ident: instructions
- Comma
- Newline
- Ident: capture_groups
- Colon
- SelfLower
- Dot
- Ident: capture_count
- Newline
- Dedent
- RParen
- Newline
- Newline
- Return
- Ident: CompileResult
- LBracket
- Ident: Regex
- RBracket
- Colon
- Colon
- OkLiteral
- LParen
- Ident: regex
- RParen
- Newline
- Dedent
- Func
- Bang
- Ident: RegexCompiler
- Colon
- Colon
- Ident: compile_expr
- LParen
- Star
- Mut
- SelfLower
- RParen
- Arrow
- OkLiteral
- Newline
- Indent
- SelfLower
- Dot
- Ident: compile_term
- LParen
- RParen
- Newline
- Newline
- For
- Ident: i
- In
- Ident: range
- LParen
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- SelfLower
- Dot
- Ident: pattern
- Dot
- Ident: len
- RParen
- Newline
- Indent
- If
- SelfLower
- Dot
- Ident: is_eof
- LParen
- RParen
- OrOr
- SelfLower
- Dot
- Ident: peek
- LParen
- RParen
- EqEq
- IntegerLiteral:
    base: Decimal
    digits: "41"
    suffix: ~
- Newline
- Indent
- Break
- Newline
- Newline
- Dedent
- If
- SelfLower
- Dot
- Ident: peek
- LParen
- RParen
- EqEq
- IntegerLiteral:
    base: Decimal
    digits: "124"
    suffix: ~
- Newline
- Indent
- SelfLower
- Dot
- Ident: advance
- LParen
- RParen
- Newline
- Newline
- Let
- Ident: split_pc
- Eq
- SelfLower
- Dot
- Ident: instructions
- Dot
- Ident: len
- Minus
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- Newline
- SelfLower
- Dot
- Ident: emit
- LParen
- Ident: RegexOpcode
- Colon
- Colon
- Ident: SPLIT
- Comma
- Ident: split_pc
- As
- I32
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- RParen
- Newline
- Newline
- SelfLower
- Dot
- Ident: compile_term
- LParen
- RParen
- Newline
- Newline
- Dedent
- Dedent
- Pass
- Newline
- Dedent
- Func
- Bang
- Ident: RegexCompiler
- Colon
- Colon
- Ident: compile_term
- LParen
- Star
- Mut
- SelfLower
- RParen
- Arrow
- OkLiteral
- Newline
- Indent
- For
- Ident: i
- In
- Ident: range
- LParen
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- SelfLower
- Dot
- Ident: pattern
- Dot
- Ident: len
- RParen
- Newline
- Indent
- If
- SelfLower
- Dot
- Ident: is_eof
- LParen
- RParen
- Newline
- Indent
- Break
- Newline
- Newline
- Dedent
- Let
- Ident: ch
- Eq
- SelfLower
- Dot
- Ident: peek
- LParen
- RParen
- Newline
- Newline
- If
- Ident: ch
- EqEq
- IntegerLiteral:
    base: Decimal
    digits: "41"
    suffix: ~
- OrOr
- Ident: ch
- EqEq
- IntegerLiteral:
    base: Decimal
    digits: "124"
    suffix: ~
- Newline
- Indent
- Break
- Newline
- Newline
- Dedent
- SelfLower
- Dot
- Ident: compile_factor
- LParen
- RParen
- Newline
- Newline
- Dedent
- Pass
- Newline
- Dedent
- Func
- Bang
- Ident: RegexCompiler
- Colon
- Colon
- Ident: compile_factor
- LParen
- Star
- Mut
- SelfLower
- RParen
- Arrow
- OkLiteral
- Newline
- Indent
- Let
- Ident: ch
- Eq
- SelfLower
- Dot
- Ident: advance
- LParen
- RParen
- Newline
- Newline
- If
- Ident: ch
- EqEq
- IntegerLiteral:
    base: Decimal
    digits: "40"
    suffix: ~
- Newline
- Indent
- SelfLower
- Dot
- Ident: compile_expr
- LParen
- RParen
- Newline
- Newline
- If
- SelfLower
- Dot
- Ident: peek
- LParen
- RParen
- EqEq
- IntegerLiteral:
    base: Decimal
    digits: "41"
    suffix: ~
- Newline
- Indent
- SelfLower
- Dot
- Ident: advance
- LParen
- RParen
- Newline
- Dedent
- Dedent
- Elif
- Ident: ch
- EqEq
- IntegerLiteral:
    base: Decimal
    digits: "46"
    suffix: ~
- Newline
- Indent
- SelfLower
- Dot
- Ident: emit
- LParen
- Ident: RegexOpcode
- Colon
- Colon
- Ident: ANY
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- RParen
- Newline
- Dedent
- Elif
- Ident: ch
- EqEq
- IntegerLiteral:
    base: Decimal
    digits: "91"
    suffix: ~
- Newline
- Indent
- SelfLower
- Dot
- Ident: compile_char_class
- LParen
- RParen
- Newline
- Dedent
- Elif
- Ident: ch
- EqEq
- IntegerLiteral:
    base: Decimal
    digits: "92"
    suffix: ~
- Newline
- Indent
- Let
- Ident: escaped
- Eq
- SelfLower
- Dot
- Ident: advance
- LParen
- RParen
- Newline
- SelfLower
- Dot
- Ident: emit
- LParen
- Ident: RegexOpcode
- Colon
- Colon
- Ident: CHAR
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- Ident: escaped
- RParen
- Newline
- Dedent
- Else
- Newline
- Indent
- SelfLower
- Dot
- Ident: emit
- LParen
- Ident: RegexOpcode
- Colon
- Colon
- Ident: CHAR
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- Ident: ch
- RParen
- Newline
- Newline
- Dedent
- If
- Bang
- SelfLower
- Dot
- Ident: is_eof
- LParen
- RParen
- Newline
- Indent
- Let
- Ident: next
- Eq
- SelfLower
- Dot
- Ident: peek
- LParen
- RParen
- Newline
- Newline
- If
- Ident: next
- EqEq
- IntegerLiteral:
    base: Decimal
    digits: "42"
    suffix: ~
- Newline
- Indent
- SelfLower
- Dot
- Ident: advance
- LParen
- RParen
- Newline
- SelfLower
- Dot
- Ident: compile_star
- LParen
- RParen
- Newline
- Dedent
- Elif
- Ident: next
- EqEq
- IntegerLiteral:
    base: Decimal
    digits: "43"
    suffix: ~
- Newline
- Indent
- SelfLower
- Dot
- Ident: advance
- LParen
- RParen
- Newline
- SelfLower
- Dot
- Ident: compile_plus
- LParen
- RParen
- Newline
- Dedent
- Elif
- Ident: next
- EqEq
- IntegerLiteral:
    base: Decimal
    digits: "63"
    suffix: ~
- Newline
- Indent
- SelfLower
- Dot
- Ident: advance
- LParen
- RParen
- Newline
- SelfLower
- Dot
- Ident: compile_question
- LParen
- RParen
- Newline
- Newline
- Dedent
- Dedent
- Pass
- Newline
- Dedent
- Func
- Bang
- Ident: RegexCompiler
- Colon
- Colon
- Ident: compile_char_class
- LParen
- Star
- Mut
- SelfLower
- RParen
- Arrow
- OkLiteral
- Newline
- Indent
- Let
- Ident: start
- Eq
- SelfLower
- Dot
- Ident: advance
- LParen
- RParen
- Newline
- Let
- Ident: end
- Eq
- SelfLower
- Dot
- Ident: advance
- LParen
- RParen
- Newline
- Newline
- If
- SelfLower
- Dot
- Ident: peek
- LParen
- RParen
- EqEq
- IntegerLiteral:
    base: Decimal
    digits: "93"
    suffix: ~
- Newline
- Indent
- SelfLower
- Dot
- Ident: advance
- LParen
- RParen
- Newline
- Newline
- Dedent
- SelfLower
- Dot
- Ident: emit
- LParen
- Ident: RegexOpcode
- Colon
- Colon
- Ident: RANGE
- Comma
- Ident: start
- As
- I32
- Comma
- Ident: end
- As
- I32
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- RParen
- Newline
- Newline
- Pass
- Newline
- Dedent
- Func
- Bang
- Ident: RegexCompiler
- Colon
- Colon
- Ident: compile_star
- LParen
- Star
- Mut
- SelfLower
- RParen
- Arrow
- OkLiteral
- Newline
- Indent
- Let
- Ident: loop_start
- Eq
- SelfLower
- Dot
- Ident: instructions
- Dot
- Ident: len
- Minus
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- Newline
- Newline
- SelfLower
- Dot
- Ident: emit
- LParen
- Ident: RegexOpcode
- Colon
- Colon
- Ident: SPLIT
- Comma
- Ident: loop_start
- As
- I32
- Comma
- LParen
- Ident: loop_start
- Plus
- IntegerLiteral:
    base: Decimal
    digits: "2"
    suffix: ~
- RParen
- As
- I32
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- RParen
- Newline
- Newline
- Pass
- Newline
- Dedent
- Func
- Bang
- Ident: RegexCompiler
- Colon
- Colon
- Ident: compile_plus
- LParen
- Star
- Mut
- SelfLower
- RParen
- Arrow
- OkLiteral
- Newline
- Indent
- Let
- Ident: loop_start
- Eq
- SelfLower
- Dot
- Ident: instructions
- Dot
- Ident: len
- Minus
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- Newline
- Newline
- SelfLower
- Dot
- Ident: emit
- LParen
- Ident: RegexOpcode
- Colon
- Colon
- Ident: SPLIT
- Comma
- Ident: loop_start
- As
- I32
- Comma
- LParen
- Ident: loop_start
- Plus
- IntegerLiteral:
    base: Decimal
    digits: "2"
    suffix: ~
- RParen
- As
- I32
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- RParen
- Newline
- Newline
- Pass
- Newline
- Dedent
- Func
- Bang
- Ident: RegexCompiler
- Colon
- Colon
- Ident: compile_question
- LParen
- Star
- Mut
- SelfLower
- RParen
- Arrow
- OkLiteral
- Newline
- Indent
- Let
- Ident: skip_target
- Eq
- SelfLower
- Dot
- Ident: instructions
- Dot
- Ident: len
- Newline
- Newline
- SelfLower
- Dot
- Ident: emit
- LParen
- Ident: RegexOpcode
- Colon
- Colon
- Ident: SPLIT
- Comma
- LParen
- Ident: skip_target
- Minus
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- RParen
- As
- I32
- Comma
- Ident: skip_target
- As
- I32
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- RParen
- Newline
- Newline
- Pass
- Newline
- Dedent
- Func
- Bang
- Ident: RegexCompiler
- Colon
- Colon
- Ident: emit
- LParen
- Star
- Mut
- SelfLower
- Comma
- Ident: opcode
- Colon
- Ident: RegexOpcode
- Comma
- Ident: op1
- Colon
- I32
- Comma
- Ident: op2
- Colon
- I32
- Comma
- Ident: ch
- Colon
- U8
- RParen
- Arrow
- OkLiteral
- Newline
- Indent
- Let
- Ident: instruction
- Eq
- Ident: RegexInstruction
- LParen
- Newline
- Indent
- Ident: opcode
- Colon
- Ident: opcode
- Comma
- Newline
- Ident: operand1
- Colon
- Ident: op1
- Comma
- Newline
- Ident: operand2
- Colon
- Ident: op2
- Comma
- Newline
- Ident: char
- Colon
- Ident: ch
- Newline
- Dedent
- RParen
- Newline
- SelfLower
- Dot
- Ident: instructions
- Dot
- Ident: push
- LParen
- Ident: instruction
- RParen
- Newline
- Pass
- Newline
- Dedent
- Func
- Bang
- Ident: RegexCompiler
- Colon
- Colon
- Ident: advance
- LParen
- Star
- Mut
- SelfLower
- RParen
- Arrow
- U8
- Newline
- Indent
- Let
- Ident: ch
- Eq
- SelfLower
- Dot
- Ident: pattern
- LBracket
- SelfLower
- Dot
- Ident: position
- RBracket
- Newline
- SelfLower
- Dot
- Ident: position
- Eq
- SelfLower
- Dot
- Ident: position
- Plus
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- Newline
- Return
- Ident: ch
- Newline
- Dedent
- Func
- Ident: RegexCompiler
- Colon
- Colon
- Ident: peek
- LParen
- Star
- SelfLower
- RParen
- Arrow
- U8
- Newline
- Indent
- If
- SelfLower
- Dot
- Ident: is_eof
- LParen
- RParen
- Newline
- Indent
- Return
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Newline
- Dedent
- Return
- SelfLower
- Dot
- Ident: pattern
- LBracket
- SelfLower
- Dot
- Ident: position
- RBracket
- Newline
- Dedent
- Func
- Ident: RegexCompiler
- Colon
- Colon
- Ident: is_eof
- LParen
- Star
- SelfLower
- RParen
- Arrow
- Bool
- Newline
- Indent
- Return
- SelfLower
- Dot
- Ident: position
- Ge
- SelfLower
- Dot
- Ident: pattern
- Dot
- Ident: len
- Newline
- Newline
- Dedent
- Struct
- Ident: RegexVM
- Newline
- Indent
- Ident: instructions
- Colon
- Star
- Ident: RegexInstruction
- Newline
- Ident: num_instructions
- Colon
- USize
- Newline
- Ident: text
- Colon
- LBracket
- U8
- RBracket
- Newline
- Ident: text_pos
- Colon
- USize
- Newline
- Ident: threads
- Colon
- LBracket
- Ident: VMThread
- RBracket
- Newline
- Dedent
- Struct
- Ident: VMThread
- Newline
- Indent
- Ident: pc
- Colon
- USize
- Newline
- Ident: text_pos
- Colon
- USize
- Newline
- Dedent
- Func
- Bang
- Ident: RegexVM
- Colon
- Colon
- Ident: new
- LParen
- Ident: instructions
- Colon
- Star
- Ident: RegexInstruction
- Comma
- Ident: num_instructions
- Colon
- USize
- RParen
- Arrow
- Ident: RegexVM
- Newline
- Indent
- Return
- Ident: RegexVM
- LParen
- Newline
- Indent
- Ident: instructions
- Colon
- Ident: instructions
- Comma
- Newline
- Ident: num_instructions
- Colon
- Ident: num_instructions
- Comma
- Newline
- Ident: text
- Colon
- LBracket
- RBracket
- Comma
- Newline
- Ident: text_pos
- Colon
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- Newline
- Ident: threads
- Colon
- LBracket
- RBracket
- Newline
- Dedent
- RParen
- Newline
- Dedent
- Func
- Bang
- Ident: RegexVM
- Colon
- Colon
- Ident: execute
- LParen
- Star
- Mut
- SelfLower
- Comma
- Ident: text
- Colon
- LBracket
- U8
- RBracket
- RParen
- Arrow
- Bool
- Newline
- Indent
- SelfLower
- Dot
- Ident: text
- Eq
- Ident: text
- Newline
- SelfLower
- Dot
- Ident: text_pos
- Eq
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Newline
- SelfLower
- Dot
- Ident: threads
- Eq
- LBracket
- RBracket
- Newline
- Newline
- SelfLower
- Dot
- Ident: add_thread
- LParen
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- RParen
- Newline
- Newline
- For
- Ident: round
- In
- Ident: range
- LParen
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- Ident: text
- Dot
- Ident: len
- Plus
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- RParen
- Newline
- Indent
- If
- SelfLower
- Dot
- Ident: threads
- Dot
- Ident: len
- EqEq
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Newline
- Indent
- Break
- Newline
- Newline
- Dedent
- Mut
- Ident: next_threads
- Colon
- LBracket
- Ident: VMThread
- RBracket
- Eq
- LBracket
- RBracket
- Newline
- Newline
- For
- Ident: i
- In
- Ident: range
- LParen
- IntegerLiteral:
    base: Decimal
    digits: "0"
    suffix: ~
- Comma
- SelfLower
- Dot
- Ident: threads
- Dot
- Ident: len
- RParen
- Newline
- Indent
- Let
- Ident: thread
- Eq
- And
- SelfLower
- Dot
- Ident: threads
- LBracket
- Ident: i
- RBracket
- Newline
- Newline
- If
- Ident: thread
- Dot
- Ident: pc
- Ge
- SelfLower
- Dot
- Ident: num_instructions
- Newline
- Indent
- Continue
- Newline
- Newline
- Dedent
- Let
- Ident: inst
- Eq
- And
- SelfLower
- Dot
- Ident: instructions
- LBracket
- Ident: thread
- Dot
- Ident: pc
- RBracket
- Newline
- Newline
- If
- Ident: inst
- Dot
- Ident: opcode
- EqEq
- Ident: RegexOpcode
- Colon
- Colon
- Ident: MATCH
- Newline
- Indent
- Return
- "True"
- Newline
- Dedent
- Elif
- Ident: inst
- Dot
- Ident: opcode
- EqEq
- Ident: RegexOpcode
- Colon
- Colon
- Ident: CHAR
- Newline
- Indent
- If
- Ident: thread
- Dot
- Ident: text_pos
- Lt
- Ident: text
- Dot
- Ident: len
- AndAnd
- Ident: text
- LBracket
- Ident: thread
- Dot
- Ident: text_pos
- RBracket
- EqEq
- Ident: inst
- Dot
- Ident: char
- Newline
- Indent
- Ident: next_threads
- Dot
- Ident: push
- LParen
- Ident: VMThread
- LParen
- Ident: pc
- Colon
- Ident: thread
- Dot
- Ident: pc
- Plus
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- Comma
- Ident: text_pos
- Colon
- Ident: thread
- Dot
- Ident: text_pos
- Plus
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- RParen
- RParen
- Newline
- Dedent
- Dedent
- Elif
- Ident: inst
- Dot
- Ident: opcode
- EqEq
- Ident: RegexOpcode
- Colon
- Colon
- Ident: ANY
- Newline
- Indent
- If
- Ident: thread
- Dot
- Ident: text_pos
- Lt
- Ident: text
- Dot
- Ident: len
- Newline
- Indent
- Ident: next_threads
- Dot
- Ident: push
- LParen
- Ident: VMThread
- LParen
- Ident: pc
- Colon
- Ident: thread
- Dot
- Ident: pc
- Plus
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- Comma
- Ident: text_pos
- Colon
- Ident: thread
- Dot
- Ident: text_pos
- Plus
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- RParen
- RParen
- Newline
- Dedent
- Dedent
- Elif
- Ident: inst
- Dot
- Ident: opcode
- EqEq
- Ident: RegexOpcode
- Colon
- Colon
- Ident: RANGE
- Newline
- Indent
- If
- Ident: thread
- Dot
- Ident: text_pos
- Lt
- Ident: text
- Dot
- Ident: len
- Newline
- Indent
- Let
- Ident: ch
- Eq
- Ident: text
- LBracket
- Ident: thread
- Dot
- Ident: text_pos
- RBracket
- Newline
- If
- Ident: ch
- Ge
- LParen
- Ident: inst
- Dot
- Ident: operand1
- As
- U8
- RParen
- AndAnd
- Ident: ch
- Le
- LParen
- Ident: inst
- Dot
- Ident: operand2
- As
- U8
- RParen
- Newline
- Indent
- Ident: next_threads
- Dot
- Ident: push
- LParen
- Ident: VMThread
- LParen
- Ident: pc
- Colon
- Ident: thread
- Dot
- Ident: pc
- Plus
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- Comma
- Ident: text_pos
- Colon
- Ident: thread
- Dot
- Ident: text_pos
- Plus
- IntegerLiteral:
    base: Decimal
    digits: "1"
    suffix: ~
- RParen
- RParen
- Newline
- Dedent
- Dedent
- Dedent
- Elif
- Ident: inst
- Dot
- Ident: opcode
- EqEq
- Ident: RegexOpcode
- Colon
- Colon
- Ident: SPLIT
- Newline
- Indent
- Ident: next_threads
- Dot
- Ident: push
- LParen
- Ident: VMThread
- LParen
- Ident: pc
- Colon
- Ident: inst
- Dot
- Ident: operand1
- As
- USize
- Comma
- Ident: text_pos
- Colon
- Ident: thread
- Dot
- Ident: text_pos
- RParen
- RParen
- Newline
- Ident: next_threads
- Dot
- Ident: push
- LParen
- Ident: VMThread
- LParen
- Ident: pc
- Colon
- Ident: inst
- Dot
- Ident: operand2
- As
- USize
- Comma
- Ident: text_pos
- Colon
- Ident: thread
- Dot
- Ident: text_pos
- RParen
- RParen
- Newline
- Newline
- Dedent
- Dedent
- SelfLower
- Dot
- Ident: threads
- Eq
- Ident: next_threads
- Newline
- Newline
- Dedent
- Return
- "False"
- Newline
- Dedent
- Func
- Bang
- Ident: RegexVM
- Colon
- Colon
- Ident: add_thread
- LParen
- Star
- Mut
- SelfLower
- Comma
- Ident: pc
- Colon
- USize
- Comma
- Ident: text_pos
- Colon
- USize
- RParen
- Arrow
- OkLiteral
- Newline
- Indent
- SelfLower
- Dot
- Ident: threads
- Dot
- Ident: push
- LParen
- Ident: VMThread
- LParen
- Ident: pc
- Colon
- Ident: pc
- Comma
- Ident: text_pos
- Colon
- Ident: text_pos
- RParen
- RParen
- Newline
- Pass
- Newline
- Newline
- Dedent
- Func
- Ident: slice_from
- LParen
- Ident: bytes
- Colon
- LBracket
- U8
- RBracket
- Comma
- Ident: start
- Colon
- USize
- RParen
- Arrow
- LBracket
- U8
- RBracket
- Newline
- Indent
- Pass
- Newline
- Dedent
- Func
- Ident: slice_range
- LParen
- Ident: bytes
- Colon
- LBracket
- U8
- RBracket
- Comma
- Ident: start
- Colon
- USize
- Comma
- Ident: end
- Colon
- USize
- RParen
- Arrow
- LBracket
- U8
- RBracket
- Newline
- Indent
- Pass
- Newline
- Dedent
